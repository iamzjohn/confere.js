{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap cf2e65dd6dcc53648087","webpack:///./src/index.js","webpack:///./src/Confere.js","webpack:///./src/validators/index.js"],"names":["validators","config","realTime","ConfereJs","options","settlePromises","promises","Promise","resolve","reject","remaining","length","results","checkDone","forEach","item","index","then","catch","err","field","push","Object","assign","keys","rules","map","key","split","validator","rule","params","value","console","warn","name","handler","validate","data","fieldName","v","required","message","email","indexOf","min","parseInt","max","exists"],"mappings":"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","file":"conferejs.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"conferejs\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"conferejs\"] = factory();\n\telse\n\t\troot[\"conferejs\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap cf2e65dd6dcc53648087","import ConfereJS from './Confere';\nexport default ConfereJS\n\n\n// WEBPACK FOOTER //\n// ./node_modules/eslint-loader!./src/index.js","import * as validators from './validators';\n\nvar config = {\n    realTime: false,\n    validators\n}\n\n/**\n * Confere JS\n * @param options\n * @constructor\n */\nvar ConfereJs = function (options) {\n\n    /**\n     * Return a promisse that Settles all promises and wait for all to be in a resolved state\n     * to resolve o reject\n     * @param promises\n     * @returns {Promise}\n     */\n    let settlePromises = (promises) => {\n        return new Promise ((resolve, reject) => {\n            var remaining = promises.length;\n            var results = {};\n\n            var checkDone = () => {\n                if (--remaining == 0){\n                    //no results means validation success since we ignored the success results values\n                    results.length != 0 ? reject(results) : resolve();\n                }\n            };\n\n            promises.forEach ((item, index) => {\n                // check if the array entry is actually a thenable\n                if (typeof item.then === 'function') {\n                    item.then(() => { //for now we do not need the success result value\n                        checkDone();\n                    }).catch(err => {\n                        if(typeof results[err.field] === 'undefined') results[err.field] = [err];\n                        else results[err.field].push(err);\n                        checkDone();\n                    });\n                }else {\n                    --remaining;\n                }\n            });\n\n            if (remaining === 0){ // special cases for zero promises\n                checkDone();\n            }\n        });\n    }\n\n    this.validators = {};\n\n    // merge our options with the default configuration to do our plugin initial setup\n    this.options = Object.assign (options, config);\n\n    //coverts the rules to a usable js objects\n    Object.keys(options.rules).map(field => {\n        this.validators[field] = {\n            field: field,\n            validators: []\n        }\n    });\n\n    Object.keys(options.rules).map(key => {\n        var validators = options.rules[key].split('|');\n        validators.map(rule => {\n            var validator = rule.split(':')[0];\n            var params = rule.split(':').length > 1 ? rule.split(':')[1].split('m') : [];\n            if(typeof this.options.validators[validator] === 'function'){\n                this.validators[key].validators.push((value) => this.options.validators[validator](key, value, params));\n            }else {\n                console.warn(`Validator '${validator}' is not registered, did you register correctly?`);\n            }\n        });\n    });\n\n    /**\n     * Register new validator\n     * @param name validator name (lowercase and no spaces allowed)\n     * @param handler function - the validator implementation\n     */\n    this.validator = function (name, handler) {\n        this.options.validators[name] = handler;\n    }\n\n    /**\n     * Validates the input data\n     * @param data\n     */\n    this.validate = (data) => {\n        var promises = [];\n        Object.keys(this.validators).map(validator => {\n            var fieldName =  validator;\n            var validator = this.validators[validator]['validators'];\n            validator.map(v => {\n                promises.push(v(data[fieldName]));\n            });\n        });\n\n        return settlePromises(promises);\n    }\n}\n\nexport default ConfereJs;\n\n\n// WEBPACK FOOTER //\n// ./node_modules/eslint-loader!./src/Confere.js","export default {\n    required(name, value){\n        return new Promise(function (resolve, reject) {\n            if (typeof value === 'undefined' || value === null || value == ''){\n                reject({\n                    field: name,\n                    message: `${name} field is required.`\n                })\n            }else {\n                resolve();\n            }\n        })\n    },\n    email(name, value){\n        value = value === null || typeof value === 'undefined' ? '' : value;\n        return new Promise((resolve, reject) => {\n            if(value.indexOf('@') != -1){\n                resolve();\n            }\n            reject({\n                field: name,\n                message: `${name} is not a valid email`\n            })\n        });\n    },\n\n    min(name, value, params){\n        value = value === null || typeof value === 'undefined' ? '' : value;\n        return new Promise((resolve, reject) => {\n            var min = parseInt(params[0]);\n            if(value.length < min) reject({\n                field: name,\n                message: `${name} field must have at least ${min} chars in length`\n            });\n            else resolve();\n        });\n    },\n\n    max(name, value, params){\n        value = value === null || typeof value === 'undefined' ? '' : value;\n        return new Promise((resolve, reject) => {\n            var max = parseInt(params[0]);\n            if(value.length > max) reject({\n                field: name,\n                message: `${name} field must not pass ${max} chars in length`\n            });\n            else resolve();\n        });\n    },\n\n    exists(name, value, params){\n        return new Promise((resolve, reject) =>{\n            if(value == 'isneezy'){\n                reject({\n                    field: name,\n                    message: `${name} field must be unique`\n                });\n            }\n\n            resolve();\n        });\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./node_modules/eslint-loader!./src/validators/index.js"],"sourceRoot":""}