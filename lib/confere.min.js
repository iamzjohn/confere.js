!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Confere",[],t):"object"==typeof exports?exports.Confere=t():e.Confere=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(e,n){r(this,t);var u=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return u.field=e,u}return u(t,e),t}(Error);t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=o.default,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.ValidationError=t.ConfereJs=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(u),a=n(3),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(a),s={realTime:!1,dateFormat:"yyyy-MM-dd",validators:l,rules:{}},f=function(){function e(t){var n=this;r(this,e),this.validators={},e.isFormElement(t.rules)?e.parseForm(t.rules,t):t.rules,this.options=Object.assign(s,t),Object.keys(t.rules).map(function(e){n.validators[e]={field:e,validators:[]}}),Object.keys(t.rules).map(function(e){t.rules[e].split("|").map(function(t){var r=t.split(":")[0],o=t.split(":").length>1?t.split(":")[1].split("m"):[];"function"==typeof n.options.validators[r]?n.validators[e].validators.push(function(t){return n.options.validators[r](e,t,o,n.options)}):console.warn("Validator '"+r+"' is not registered, did you register correctly?")})})}return o(e,[{key:"settlePromises",value:function(e){return new Promise(function(t,n){var r=e.length,o={},u=function(){if(0==--r){var e=new Error("Some information is missing or incorrect");e.result=o,0!=Object.keys(o).length?n(e):t()}};e.forEach(function(e,t){"function"==typeof e.then?e.then(function(){u()}).catch(function(e){void 0===o[e.field]?o[e.field]=[e]:o[e.field].push(e),u()}):--r}),0===r&&u()})}},{key:"validate",value:function(t){var n=this;t=null==t||void 0===t?{}:t,t=e.isFormElement(this.options.form)?Object.assign(this.parseFormData(this.options.form),t):t;var r=[];return Object.keys(this.validators).map(function(e){var o=e,e=n.validators[e].validators;e.map(function(e){r.push(e(t[o]))})}),this.settlePromises(r)}},{key:"parseFormData",value:function(e){var t={};return Object.keys(e.elements).map(function(n){var r=e.elements[n].getAttribute("name"),o=e.elements[n].value;t[r]=o}),t}}],[{key:"getDefaults",value:function(){return s}},{key:"setDefaults",value:function(e){s=Object.assign(s,e)}},{key:"validator",value:function(e,t){s.validators[e]=t}},{key:"isFormElement",value:function(e){return e instanceof HTMLFormElement}},{key:"parseForm",value:function(e,t){t.form=e;for(var n={},r=0;r<e.elements.length;r++){var o=e.elements.item(r).getAttribute("name"),u=e.elements.item(r).dataset.rule;null!=o&&void 0!==o&&""!=o&&(n[o]=u)}t.rules=n}}]),e}();t.default=f,t.ConfereJs=f,t.ValidationError=i.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),u=r(o),i=n(4),a=r(i),l=Object.assign({required:function(e,t){return new Promise(function(n,r){void 0===t||null===t||""==t?r(new u.default(e,e+" field is required.")):n()})},email:function(e,t){return t=null===t||void 0===t?"":t,new Promise(function(n,r){/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)&&n(),r(new u.default(e,e+" is not a valid email"))})},min:function(e,t,n){return t=null===t||void 0===t?"":t,new Promise(function(r,o){var i=parseInt(n[0]);t.length<i?o(new u.default(e,e+" field must have at least "+i+" chars in length")):r()})},max:function(e,t,n){return t=null===t||void 0===t?"":t,new Promise(function(r,o){var i=parseInt(n[0]);t.length>i?o(new u.default(e,e+" field must not pass "+i+" chars in length")):r()})},exists:function(e,t,n){return new Promise(function(n,r){"isneezy"==t&&r(new u.default(e,e+" field must be unique")),n()})}},a.default);t.default=l,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),u=r(o),i=n(0),a=r(i);t.default={date:function(e,t,n,r){return new Promise(function(n,o){u.default.isDate(t,r.dateFormat)&&n(),o(new a.default(e,e+" field is not a valid date"))})},after:function(e,t,n,r){return new Promise(function(o,u){r.dateFormat;new Date(t)>new Date(n[0])&&o(),u(new a.default(e,e+" field should be after "+n[0]))})}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return(e<0||e>9?"":"0")+e}function o(e,t){return 0!=s(e,t)}function u(e,t,n,r){var o=s(e,t),u=s(n,r);return 0==o||0==u?-1:o>u?1:0}function i(e,t){t+="";var n,o="",u=0,i="",a="",l=e.getYear()+"",s=e.getMonth()+1,d=e.getDate(),h=e.getDay(),n=e.getHours(),p=e.getMinutes(),y=e.getSeconds(),g=new Object;for(l.length<4&&(l=""+(l-0+1900)),g.y=""+l,g.yyyy=l,g.yy=l.substring(2,4),g.M=s,g.MM=r(s),g.MMM=f[s-1],g.NNN=f[s+11],g.d=d,g.dd=r(d),g.E=c[h+7],g.EE=c[h],g.H=n,g.HH=r(n),g.h=0==n?12:n>12?n-12:n,g.hh=r(g.h),g.K=n>11?n-12:n,g.k=n+1,g.KK=r(g.K),g.kk=r(g.k),g.a=n>11?"PM":"AM",g.m=p,g.mm=r(p),g.s=y,g.ss=r(y);u<t.length;){for(i=t.charAt(u),a="";t.charAt(u)==i&&u<t.length;)a+=t.charAt(u++);null!=g[a]?o+=g[a]:o+=a}return o}function a(e){for(var t="1234567890",n=0;n<e.length;n++)if(-1==t.indexOf(e.charAt(n)))return!1;return!0}function l(e,t,n,r){for(var o=r;o>=n;o--){var u=e.substring(t,t+o);if(u.length<n)return null;if(a(u))return u}return null}function s(e,t){e+="",t+="";for(var n,r,o=0,u=0,i="",a="",s=new Date,d=s.getYear(),h=s.getMonth()+1,p=1,y=s.getHours(),g=s.getMinutes(),m=s.getSeconds(),v="";u<t.length;){for(i=t.charAt(u),a="";t.charAt(u)==i&&u<t.length;)a+=t.charAt(u++);if("yyyy"==a||"yy"==a||"y"==a){if("yyyy"==a&&(n=4,r=4),"yy"==a&&(n=2,r=2),"y"==a&&(n=2,r=4),null==(d=l(e,o,n,r)))return 0;o+=d.length,2==d.length&&(d=d>70?d-0+1900:d-0+2e3)}else if("MMM"==a||"NNN"==a){h=0;for(var b=0;b<f.length;b++){var M=f[b];if(e.substring(o,o+M.length).toLowerCase()==M.toLowerCase()&&("MMM"==a||"NNN"==a&&b>11)){h=b+1,h>12&&(h-=12),o+=M.length;break}}if(h<1||h>12)return 0}else if("EE"==a||"E"==a)for(var b=0;b<c.length;b++){var w=c[b];if(e.substring(o,o+w.length).toLowerCase()==w.toLowerCase()){o+=w.length;break}}else if("MM"==a||"M"==a){if(null==(h=l(e,o,a.length,2))||h<1||h>12)return 0;o+=h.length}else if("dd"==a||"d"==a){if(null==(p=l(e,o,a.length,2))||p<1||p>31)return 0;o+=p.length}else if("hh"==a||"h"==a){if(null==(y=l(e,o,a.length,2))||y<1||y>12)return 0;o+=y.length}else if("HH"==a||"H"==a){if(null==(y=l(e,o,a.length,2))||y<0||y>23)return 0;o+=y.length}else if("KK"==a||"K"==a){if(null==(y=l(e,o,a.length,2))||y<0||y>11)return 0;o+=y.length}else if("kk"==a||"k"==a){if(null==(y=l(e,o,a.length,2))||y<1||y>24)return 0;o+=y.length,y--}else if("mm"==a||"m"==a){if(null==(g=l(e,o,a.length,2))||g<0||g>59)return 0;o+=g.length}else if("ss"==a||"s"==a){if(null==(m=l(e,o,a.length,2))||m<0||m>59)return 0;o+=m.length}else if("a"==a){if("am"==e.substring(o,o+2).toLowerCase())v="AM";else{if("pm"!=e.substring(o,o+2).toLowerCase())return 0;v="PM"}o+=2}else{if(e.substring(o,o+a.length)!=a)return 0;o+=a.length}}if(o!=e.length)return 0;if(2==h)if(d%4==0&&d%100!=0||d%400==0){if(p>29)return 0}else if(p>28)return 0;return(4==h||6==h||9==h||11==h)&&p>30?0:(y<12&&"PM"==v?y=y-0+12:y>11&&"AM"==v&&(y-=12),new Date(d,h-1,p,y,g,m).getTime())}Object.defineProperty(t,"__esModule",{value:!0});var f=["January","February","March","April","May","June","July","August","September","October","November","December","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sun","Mon","Tue","Wed","Thu","Fri","Sat"];t.default={isDate:o,compareDates:u,formatDate:i,getDateFromFormat:s},e.exports=t.default}])});